

# 双向数据绑定


## Vue2 双向数据绑定
采用`数据劫持`结合`订阅者-发布者模式`的方式，data数据在初始化的时候，会实例化一个`Observe`类，将data数据进行递归遍历，并通过`Object.defineProperty`方法，给每个值添加一个getter和setter。数据杜族的时候触发getter进行依赖收集，当数据发生改变，出发setter，对刚刚收集的依赖进行触发，并且更新`watcher`通知视图渲染。


### Object.defineProperty() 缺点
该方法只能监听到数据的修改，监听不到数据的新增和删除，从而不出发组件的更新渲染。vue3 对数据的新增删除方法重写，在拦截里进行手动手机触发依赖更新。