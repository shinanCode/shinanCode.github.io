# 虚拟DOM和Diff算法


## 虚拟DOM
> `Virtual DOM`是对DOM的抽象,本质上是JavaScript对象,这个对象就是更加轻量级的对DOM的描述.

前端性能优化的一个秘诀就是尽可能少地操作DOM,不仅仅是DOM相对较慢,更因为频繁变动DOM会造成浏览器的回流或者重回,这些都是性能的杀手,因此我们需要这一层抽象,在patch过程中尽可能地一次性将差异更新到DOM中,这样保证了DOM不会出现性能很差的情况.

::: tip
虚拟DOM算法操作真实DOM，性能高于直接操作真实DOM  
虚拟DOM算法 = 虚拟DOM + Diff算法
:::

## Diff算法
> Diff 算法是一种通过同层的树节点进行比较的高效算法，避免了对树进行逐层搜索遍历，所以时间复杂度只有 O(n)。 <br />vue 虚拟 dom 渲染成真实 dom 的新旧 VNode 节点比较更新时，就用到了该算法

### 特点
diff整体策略为：深度优先，同层比较


- 比较只会在同层级进行，不会跨级比较
- diff比较中，循环从两边向中间收拢



## 参考链接
1. [面试官：你了解vue的diff算法吗？说说看](https://vue3js.cn/interview/vue/diff.html)
2. [面试官: 你对虚拟DOM原理的理解?](https://juejin.cn/post/6844903902429577229)